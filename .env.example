# XLeRobot 环境变量配置模板
# 复制此文件为 .env 并填入真实的API密钥
# 注意：.env 文件已添加到 .gitignore，不会提交到代码仓库

# =============================================================================
# 🔐 云端服务API配置（必需）
# =============================================================================

# 阿里云智能语音服务 (ASR/TTS)
# 用于语音识别和语音合成功能
# 获取方式:
# 1. 访问 https://nls-portal.console.aliyun.com/
# 2. 登录阿里云账号
# 3. 开通"语音服务"产品
# 4. 在"项目列表"中创建项目并获取AppKey
# 5. 在"AccessKey管理"中创建AccessKey
ALIBABA_CLOUD_ACCESS_KEY_ID=your_access_key_id_here
ALIBABA_CLOUD_ACCESS_KEY_SECRET=your_access_key_secret_here
ALIYUN_NLS_APPKEY=your_nls_appkey_here

# 通义千问大语言模型
# 用于自然语言理解和对话生成
# 获取方式:
# 1. 访问 https://bailian.console.aliyun.com/
# 2. 登录阿里云账号
# 3. 开通"大模型平台百炼"服务
# 4. 创建应用并获取API-KEY
QWEN_API_KEY=your_qwen_api_key_here

# =============================================================================
# 🤖 系统核心配置（生产环境必需）
# =============================================================================

# ROS2配置
# ROS_DOMAIN_ID: ROS2域ID，用于网络隔离
# 设置为42以避免与其他ROS2系统冲突
ROS_DOMAIN_ID=42

# Python路径配置
# 确保Python可以找到项目的源代码模块
PYTHONPATH=/home/sunrise/xlerobot/src

# 项目环境标识
# 用于区分不同部署环境（development/testing/production）
XLEROBOT_ENV=production

# =============================================================================
# 🎵 音频设备配置（可选）
# =============================================================================

# ALSA音频设备
# 使用 `arecord -l` 和 `aplay -l` 查看可用设备
# ALSA_DEVICE=default  # 使用默认音频设备
# ALSA_DEVICE=hw:1,0   # 使用指定声卡设备

# 麦克风设备索引
# 通过 `arecord -l` 命令查看设备列表
# MICROPHONE_INDEX=0   # 第一个录音设备

# 扬声器设备索引
# 通过 `aplay -l` 命令查看设备列表
# SPEAKER_INDEX=0      # 第一个播放设备

# 音频格式配置
# AUDIO_SAMPLE_RATE=16000    # 采样率：16kHz
# AUDIO_CHANNELS=1           # 声道数：单声道
# AUDIO_FORMAT=S16_LE        # 格式：16-bit小端

# =============================================================================
# 🎤 语音识别配置（可选）
# =============================================================================

# ASR服务配置
# ASR_LANGUAGE=zh-cantonese  # 识别语言：粤语
# ASR_ENCODING=opus          # 音频编码格式
# ASR_SAMPLE_RATE=16000      # 音频采样率
# ASR_ENABLE_PUNCTUATION=true # 启用标点符号识别
# ASR_ENABLE_ITN=true        # 启用逆文本标准化

# 唤醒词配置
# WAKE_WORD_ENABLE=true      # 启用唤醒词检测
# WAKE_WORD=傻强             # 唤醒词内容
# WAKE_WORD_SENSITIVITY=0.5  # 唤醒词灵敏度（0.0-1.0）

# =============================================================================
# 🗣️ 语音合成配置（可选）
# =============================================================================

# TTS服务配置
# TTS_VOICE=xiaoyun          # TTS音色选择
# TTS_VOLUME=50              # 音量大小（0-100）
# TTS_SPEECH_RATE=1.0        # 语速（0.5-2.0）
# TTS_PITCH_RATE=1.0         # 音调（0.5-2.0）

# 音频输出格式
# TTS_FORMAT=wav             # 输出格式
# TTS_SAMPLE_RATE=16000      # 采样率
# TTS_CHANNELS=1             # 声道数

# =============================================================================
# 🧠 大语言模型配置（可选）
# =============================================================================

# LLM模型配置
# QWEN_MODEL=qwen-plus       # 模型版本选择
# QWEN_TEMPERATURE=0.7       # 创造性参数（0.0-2.0）
# QWEN_MAX_TOKENS=1500       # 最大生成token数
# QWEN_TOP_P=0.8             # 核采样参数

# 对话管理配置
# DIALOGUE_CONTEXT_LENGTH=5  # 对话上下文长度
# DIALOGUE_TIMEOUT=30        # 对话超时时间（秒）
# ENABLE_DIALOGUE_MEMORY=true # 启用对话记忆

# =============================================================================
# 📊 日志和监控配置（可选）
# =============================================================================

# 日志级别配置
# 可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志文件配置
# LOG_FILE_PATH=/home/sunrise/xlerobot/logs/voice_assistant.log
# LOG_MAX_SIZE=10MB         # 日志文件最大大小
# LOG_BACKUP_COUNT=5        # 保留日志文件数量

# 系统监控配置
# ENABLE_METRICS=true       # 启用性能监控
# METRICS_PORT=8080         # 监控端口
# ENABLE_HEALTH_CHECK=true  # 启用健康检查

# =============================================================================
# 🌐 网络和连接配置（可选）
# =============================================================================

# 网络超时配置
# API_CONNECT_TIMEOUT=30    # API连接超时（秒）
# API_READ_TIMEOUT=60       # API读取超时（秒）
# MAX_RETRY_COUNT=3         # 最大重试次数
# RETRY_DELAY=1             # 重试延迟（秒）

# 代理配置（如需）
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=https://proxy.company.com:8080
# NO_PROXY=localhost,127.0.0.1

# =============================================================================
# 🖥️ 视觉模块配置（可选，如启用多模态功能）
# =============================================================================

# 摄像头设备配置
# CAMERA_DEVICE_INDEX=0     # 摄像头设备索引
# CAMERA_WIDTH=640          # 图像宽度
# CAMERA_HEIGHT=480         # 图像高度
# CAMERA_FPS=30             # 帧率

# 视觉理解配置
# VISION_MODEL=qwen-vl-plus # 视觉模型
# ENABLE_VISION_PROCESSING=false # 启用视觉处理（默认关闭）

# =============================================================================
# 🚀 性能和资源配置（可选）
# =============================================================================

# 线程池配置
# MAX_WORKER_THREADS=4      # 最大工作线程数
# ASYNC_TASK_QUEUE_SIZE=100 # 异步任务队列大小

# 内存和缓存配置
# MAX_MEMORY_USAGE=1GB      # 最大内存使用量
# ENABLE_AUDIO_BUFFER=true  # 启用音频缓冲
# BUFFER_SIZE=4096          # 缓冲区大小

# =============================================================================
# 🔧 调试和开发配置（仅开发环境）
# =============================================================================

# 调试模式配置
# DEBUG_MODE=false          # 调试模式开关
# ENABLE_API_DEBUG=false    # API调试信息
# ENABLE_AUDIO_DEBUG=false  # 音频调试信息

# 测试配置
# MOCK_API_CALLS=false      # Mock API调用（仅测试用）
# TEST_AUDIO_FILE_PATH=     # 测试音频文件路径

# =============================================================================
# 📝 配置使用说明
# =============================================================================

# 1. 配置文件设置步骤：
#    - 复制此文件: cp .env.example .env
#    - 编辑 .env 文件，填入真实的API密钥
#    - 根据需要调整其他配置项

# 2. 环境变量加载：
#    - 通过启动脚本自动加载: ./start_voice_assistant.sh
#    - 手动加载: source .env

# 3. 配置验证：
#    - 运行环境检查: ./start_voice_assistant.sh check
#    - 测试API连接: bash scripts/test_aliyun_connection.sh

# 4. 安全注意事项：
#    - 绝对不要将 .env 文件提交到代码仓库
#    - 生产环境使用强密码和安全的API密钥
#    - 定期轮换API密钥

# 5. 故障排查：
#    - 检查API密钥是否正确设置
#    - 验证网络连接是否正常
#    - 查看日志文件获取详细错误信息

# =============================================================================
# 🆘 获取帮助
# =============================================================================

# 如果遇到配置问题，请：
# 1. 查看文档: docs/architecture-analysis.md
# 2. 运行诊断: ./start_voice_assistant.sh check
# 3. 查看日志: ./start_voice_assistant.sh logs
# 4. 联系项目维护者

# 最后更新: 2025-11-15