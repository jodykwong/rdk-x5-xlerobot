# Story 1.2: 基础语音唤醒

**Story ID:** 1.2
**Epic:** 基础语音交互系统
**迭代:** 1 - 纯在线服务
**状态:** drafted
**目标代码量:** ~200行

---

## 🎯 用户故事

作为一个XleRobot用户，我需要通过说"傻强"来唤醒机器人，以便它开始注意听我的指令。

---

## 📋 验收标准

- [ ] 系统能够检测"傻强"唤醒词
- [ ] 使用阿里云唤醒词API服务
- [ ] 唤醒成功后有明显的状态指示
- [ ] 支持简单的唤醒词配置
- [ ] 系统作为ROS2节点运行
- [ ] 代码行数控制在200行以内

---

## 🔧 技术实现

### 核心组件
1. **唤醒词检测器** - 集成阿里云唤醒词API
2. **状态管理器** - 管理唤醒/休眠状态
3. **配置管理器** - 简单的唤醒词配置
4. **ROS2接口** - 状态发布和订阅

### 技术栈
- **唤醒服务**: 阿里云NLS唤醒词API
- **HTTP客户端**: `requests` (API调用)
- **ROS2**: `rclpy` (节点通信)
- **音频处理**: 继承Story 1.1的音频采集

### 文件结构
```
src/
├── xlerobot_phase1/
│   ├── wake_word_detector.py      (~100行)
│   ├── wake_word_config.py        (~40行)
│   ├── wake_word_node.py          (~60行)
│   └── __init__.py                (继续使用)
```

---

## 🎨 设计约束

1. **API优先**: 完全依赖阿里云唤醒词服务
2. **简单配置**: 基础的唤醒词和阈值设置
3. **状态明确**: 清晰的唤醒/休眠状态管理
4. **快速响应**: 唤醒检测延迟 < 200ms

---

## 📊 成功指标

- 代码行数 < 200行
- 唤醒检测准确率 > 90%
- 唤醒响应延迟 < 200ms
- 内存占用 < 100MB

---

## 🔗 依赖关系

- **前置**: Story 1.1 - 音频采集系统
- **后置**: Story 1.3 - 基础语音识别

---

## 🚫 避免的过度工程化

- ❌ 本地CNN唤醒词模型训练
- ❌ 复杂的音频特征提取
- ❌ 多唤醒词支持
- ❌ 自适应唤醒阈值算法
- ❌ 详细的唤醒词性能分析

---

## ✅ 完成定义

1. 阿里云唤醒词API集成完成
2. "傻强"唤醒词检测正常工作
3. 唤醒状态管理正确
4. ROS2接口正常工作
5. 代码审查通过

---

_创建日期: 2025-11-08_
_作者: BMad Master_
_预计完成: 1周_