# XleRobot Story 1.4 - TTS配置文件
# BMad-Method v6 Brownfield Level 4 企业级实现
# Story 1.4: 基础语音合成 (阿里云TTS API集成)

# 阿里云API配置
app_key: "4G5BCMccTCW8nC8w"  # 应用密钥
token: ""  # 从环境变量 ALIBABA_CLOUD_TOKEN 获取
region: "cn-shanghai"  # 服务区域

# TTS服务配置
endpoint: "https://nls-gateway.cn-shanghai.aliyuncs.com/stream/v1/tts"
timeout: 10  # 请求超时时间(秒)
max_retries: 3  # 最大重试次数

# 默认语音参数
voice: "jiajia"  # 粤语女声发音人
volume: 50  # 音量 (50-150)
speech_rate: 0  # 语速调节 (0-100)
pitch_rate: 0  # 音调调节 (0-100)

# 音频格式配置
format: "wav"  # 固定WAV格式
sample_rate: 16000  # 固定16kHz采样率
channels: 1  # 固定单声道
bits_per_sample: 16  # 固定16位深度

# 错误处理配置
retry_delays: [1.0, 2.0, 4.0]  # 重试延迟(秒)
retry_backoff: 2.0  # 退避倍数
max_retry_delay: 20.0  # 最大重试延迟(秒)

# 日志配置
log_level: "INFO"  # 日志级别
log_file: "logs/tts.log"  # 日志文件路径
enable_file_logging: true  # 是否启用文件日志

# 性能配置
max_concurrent_requests: 1  # 最大并发请求数
audio_buffer_size: 8192  # 音频缓冲区大小
cleanup_temp_files: true  # 是否清理临时文件

# 开发模式配置
debug_mode: false  # 调试模式
mock_api: false  # 模拟API (仅用于测试)
save_test_audio: true  # 保存测试音频文件

# 支持的发音人
supported_voices:
  jiajia: "佳佳 (粤语女声)"
  xiaoxiao: "晓晓 (标准女声)"
  xiaoyun: "晓云 (知性女声)"

# 粤语特定配置
cantonese_settings:
  default_voice: "jiajia"
  preferred_speech_rate: 0
  preferred_pitch_rate: 0
  cultural_adaptations: true

# 安全配置
api_key_validation: true  # API密钥验证
request_logging: false  # 请求日志记录
sensitive_data_masking: true  # 敏感数据掩码